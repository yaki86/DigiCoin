{"ast":null,"code":"import { fromBase64 } from '@smithy/util-base64';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst deserializeContent = content => content.map(block => {\n  if (block.image) {\n    return deserializeImageBlock(block);\n  }\n  if (block.toolUse) {\n    return deserializeToolUseBlock(block);\n  }\n  if (block.toolResult) {\n    return deserializeToolResultBlock(block);\n  }\n  return removeNullsFromBlock(block);\n});\nconst deserializeImageBlock = _ref => {\n  let {\n    image\n  } = _ref;\n  return {\n    image: {\n      ...image,\n      source: {\n        ...image.source,\n        bytes: fromBase64(image.source.bytes)\n      }\n    }\n  };\n};\nconst deserializeJsonBlock = _ref2 => {\n  let {\n    json\n  } = _ref2;\n  return {\n    json: JSON.parse(json)\n  };\n};\nconst deserializeToolUseBlock = _ref3 => {\n  let {\n    toolUse\n  } = _ref3;\n  return {\n    toolUse: {\n      ...toolUse,\n      input: JSON.parse(toolUse.input)\n    }\n  };\n};\nconst deserializeToolResultBlock = _ref4 => {\n  let {\n    toolResult\n  } = _ref4;\n  return {\n    toolResult: {\n      toolUseId: toolResult.toolUseId,\n      content: toolResult.content.map(toolResultBlock => {\n        if (toolResultBlock.image) {\n          return deserializeImageBlock(toolResultBlock);\n        }\n        if (toolResultBlock.json) {\n          return deserializeJsonBlock(toolResultBlock);\n        }\n        return removeNullsFromBlock(toolResultBlock);\n      })\n    }\n  };\n};\nconst removeNullsFromBlock = block => Object.fromEntries(Object.entries(block).filter(_ref5 => {\n  let [_, v] = _ref5;\n  return v !== null;\n}));\nexport { deserializeContent };","map":{"version":3,"names":["deserializeContent","content","map","block","image","deserializeImageBlock","toolUse","deserializeToolUseBlock","toolResult","deserializeToolResultBlock","removeNullsFromBlock","_ref","source","bytes","fromBase64","deserializeJsonBlock","_ref2","json","JSON","parse","_ref3","input","_ref4","toolUseId","toolResultBlock","Object","fromEntries","entries","filter","_ref5","_","v"],"sources":["/Users/yaki/digi-coin/digi-coin-app/node_modules/@aws-amplify/data-schema/src/runtime/internals/ai/conversationMessageDeserializers.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { fromBase64 } from '@smithy/util-base64';\nexport const deserializeContent = (content) => content.map((block) => {\n    if (block.image) {\n        return deserializeImageBlock(block);\n    }\n    if (block.toolUse) {\n        return deserializeToolUseBlock(block);\n    }\n    if (block.toolResult) {\n        return deserializeToolResultBlock(block);\n    }\n    return removeNullsFromBlock(block);\n});\nconst deserializeImageBlock = ({ image }) => ({\n    image: {\n        ...image,\n        source: {\n            ...image.source,\n            bytes: fromBase64(image.source.bytes),\n        },\n    },\n});\nconst deserializeJsonBlock = ({ json }) => ({\n    json: JSON.parse(json),\n});\nconst deserializeToolUseBlock = ({ toolUse }) => ({\n    toolUse: {\n        ...toolUse,\n        input: JSON.parse(toolUse.input),\n    },\n});\nconst deserializeToolResultBlock = ({ toolResult, }) => ({\n    toolResult: {\n        toolUseId: toolResult.toolUseId,\n        content: toolResult.content.map((toolResultBlock) => {\n            if (toolResultBlock.image) {\n                return deserializeImageBlock(toolResultBlock);\n            }\n            if (toolResultBlock.json) {\n                return deserializeJsonBlock(toolResultBlock);\n            }\n            return removeNullsFromBlock(toolResultBlock);\n        }),\n    },\n});\nconst removeNullsFromBlock = (block) => Object.fromEntries(Object.entries(block).filter(([_, v]) => v !== null));\n"],"mappings":";;AAAA;AACA;AAEY,MAACA,kBAAkB,GAAIC,OAAO,IAAKA,OAAO,CAACC,GAAG,CAAEC,KAAK,IAAK;EAClE,IAAIA,KAAK,CAACC,KAAK,EAAE;IACb,OAAOC,qBAAqB,CAACF,KAAK,CAAC;EAC3C;EACI,IAAIA,KAAK,CAACG,OAAO,EAAE;IACf,OAAOC,uBAAuB,CAACJ,KAAK,CAAC;EAC7C;EACI,IAAIA,KAAK,CAACK,UAAU,EAAE;IAClB,OAAOC,0BAA0B,CAACN,KAAK,CAAC;EAChD;EACI,OAAOO,oBAAoB,CAACP,KAAK,CAAC;AACtC,CAAC;AACD,MAAME,qBAAqB,GAAGM,IAAA;EAAA,IAAC;IAAEP;EAAK,CAAE,GAAAO,IAAA;EAAA,OAAM;IAC1CP,KAAK,EAAE;MACH,GAAGA,KAAK;MACRQ,MAAM,EAAE;QACJ,GAAGR,KAAK,CAACQ,MAAM;QACfC,KAAK,EAAEC,UAAU,CAACV,KAAK,CAACQ,MAAM,CAACC,KAAK;MAChD;IACA;EACA,CAAC;AAAA,CAAC;AACF,MAAME,oBAAoB,GAAGC,KAAA;EAAA,IAAC;IAAEC;EAAI,CAAE,GAAAD,KAAA;EAAA,OAAM;IACxCC,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACF,IAAI;EACzB,CAAC;AAAA,CAAC;AACF,MAAMV,uBAAuB,GAAGa,KAAA;EAAA,IAAC;IAAEd;EAAO,CAAE,GAAAc,KAAA;EAAA,OAAM;IAC9Cd,OAAO,EAAE;MACL,GAAGA,OAAO;MACVe,KAAK,EAAEH,IAAI,CAACC,KAAK,CAACb,OAAO,CAACe,KAAK;IACvC;EACA,CAAC;AAAA,CAAC;AACF,MAAMZ,0BAA0B,GAAGa,KAAA;EAAA,IAAC;IAAEd;EAAU,CAAG,GAAAc,KAAA;EAAA,OAAM;IACrDd,UAAU,EAAE;MACRe,SAAS,EAAEf,UAAU,CAACe,SAAS;MAC/BtB,OAAO,EAAEO,UAAU,CAACP,OAAO,CAACC,GAAG,CAAEsB,eAAe,IAAK;QACjD,IAAIA,eAAe,CAACpB,KAAK,EAAE;UACvB,OAAOC,qBAAqB,CAACmB,eAAe,CAAC;QAC7D;QACY,IAAIA,eAAe,CAACP,IAAI,EAAE;UACtB,OAAOF,oBAAoB,CAACS,eAAe,CAAC;QAC5D;QACY,OAAOd,oBAAoB,CAACc,eAAe,CAAC;MACxD,CAAS;IACT;EACA,CAAC;AAAA,CAAC;AACF,MAAMd,oBAAoB,GAAIP,KAAK,IAAKsB,MAAM,CAACC,WAAW,CAACD,MAAM,CAACE,OAAO,CAACxB,KAAK,CAAC,CAACyB,MAAM,CAACC,KAAA;EAAA,IAAC,CAACC,CAAC,EAAEC,CAAC,CAAC,GAAAF,KAAA;EAAA,OAAKE,CAAC,KAAK,IAAI;AAAA,EAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}