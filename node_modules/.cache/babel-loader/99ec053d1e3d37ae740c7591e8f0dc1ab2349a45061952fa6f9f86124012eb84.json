{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst convertItemToConversationStreamEvent = _ref => {\n  let {\n    id,\n    conversationId,\n    associatedUserMessageId,\n    contentBlockIndex,\n    contentBlockDoneAtIndex,\n    contentBlockDeltaIndex,\n    contentBlockText,\n    contentBlockToolUse,\n    stopReason,\n    errors\n  } = _ref;\n  if (errors) {\n    const error = {\n      id,\n      conversationId,\n      associatedUserMessageId,\n      errors\n    };\n    return {\n      error\n    };\n  }\n  const next = removeNullsFromConversationStreamEvent({\n    id,\n    conversationId,\n    associatedUserMessageId,\n    contentBlockIndex,\n    contentBlockDoneAtIndex,\n    contentBlockDeltaIndex,\n    text: contentBlockText,\n    toolUse: deserializeToolUseBlock(contentBlockToolUse),\n    stopReason\n  });\n  return {\n    next\n  };\n};\nconst deserializeToolUseBlock = contentBlockToolUse => {\n  if (contentBlockToolUse) {\n    const toolUseBlock = {\n      ...contentBlockToolUse,\n      input: JSON.parse(contentBlockToolUse.input)\n    };\n    return toolUseBlock;\n  }\n};\nconst removeNullsFromConversationStreamEvent = block => Object.fromEntries(Object.entries(block).filter(_ref2 => {\n  let [_, v] = _ref2;\n  return v !== null;\n}));\nexport { convertItemToConversationStreamEvent };","map":{"version":3,"names":["convertItemToConversationStreamEvent","_ref","id","conversationId","associatedUserMessageId","contentBlockIndex","contentBlockDoneAtIndex","contentBlockDeltaIndex","contentBlockText","contentBlockToolUse","stopReason","errors","error","next","removeNullsFromConversationStreamEvent","text","toolUse","deserializeToolUseBlock","toolUseBlock","input","JSON","parse","block","Object","fromEntries","entries","filter","_ref2","_","v"],"sources":["/Users/yaki/digi-coin/digi-coin-app/node_modules/@aws-amplify/data-schema/src/runtime/internals/ai/conversationStreamEventDeserializers.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const convertItemToConversationStreamEvent = ({ id, conversationId, associatedUserMessageId, contentBlockIndex, contentBlockDoneAtIndex, contentBlockDeltaIndex, contentBlockText, contentBlockToolUse, stopReason, errors, }) => {\n    if (errors) {\n        const error = {\n            id,\n            conversationId,\n            associatedUserMessageId,\n            errors,\n        };\n        return { error };\n    }\n    const next = removeNullsFromConversationStreamEvent({\n        id,\n        conversationId,\n        associatedUserMessageId,\n        contentBlockIndex,\n        contentBlockDoneAtIndex,\n        contentBlockDeltaIndex,\n        text: contentBlockText,\n        toolUse: deserializeToolUseBlock(contentBlockToolUse),\n        stopReason,\n    });\n    return { next };\n};\nconst deserializeToolUseBlock = (contentBlockToolUse) => {\n    if (contentBlockToolUse) {\n        const toolUseBlock = {\n            ...contentBlockToolUse,\n            input: JSON.parse(contentBlockToolUse.input),\n        };\n        return toolUseBlock;\n    }\n};\nconst removeNullsFromConversationStreamEvent = (block) => Object.fromEntries(Object.entries(block).filter(([_, v]) => v !== null));\n"],"mappings":"AAAA;AACA;AACY,MAACA,oCAAoC,GAAGC,IAAA,IAAqL;EAAA,IAApL;IAAEC,EAAE;IAAEC,cAAc;IAAEC,uBAAuB;IAAEC,iBAAiB;IAAEC,uBAAuB;IAAEC,sBAAsB;IAAEC,gBAAgB;IAAEC,mBAAmB;IAAEC,UAAU;IAAEC;EAAM,CAAG,GAAAV,IAAA;EAChO,IAAIU,MAAM,EAAE;IACR,MAAMC,KAAK,GAAG;MACVV,EAAE;MACFC,cAAc;MACdC,uBAAuB;MACvBO;IACZ,CAAS;IACD,OAAO;MAAEC;IAAK,CAAE;EACxB;EACI,MAAMC,IAAI,GAAGC,sCAAsC,CAAC;IAChDZ,EAAE;IACFC,cAAc;IACdC,uBAAuB;IACvBC,iBAAiB;IACjBC,uBAAuB;IACvBC,sBAAsB;IACtBQ,IAAI,EAAEP,gBAAgB;IACtBQ,OAAO,EAAEC,uBAAuB,CAACR,mBAAmB,CAAC;IACrDC;EACR,CAAK,CAAC;EACF,OAAO;IAAEG;EAAI,CAAE;AACnB;AACA,MAAMI,uBAAuB,GAAIR,mBAAmB,IAAK;EACrD,IAAIA,mBAAmB,EAAE;IACrB,MAAMS,YAAY,GAAG;MACjB,GAAGT,mBAAmB;MACtBU,KAAK,EAAEC,IAAI,CAACC,KAAK,CAACZ,mBAAmB,CAACU,KAAK;IACvD,CAAS;IACD,OAAOD,YAAY;EAC3B;AACA,CAAC;AACD,MAAMJ,sCAAsC,GAAIQ,KAAK,IAAKC,MAAM,CAACC,WAAW,CAACD,MAAM,CAACE,OAAO,CAACH,KAAK,CAAC,CAACI,MAAM,CAACC,KAAA;EAAA,IAAC,CAACC,CAAC,EAAEC,CAAC,CAAC,GAAAF,KAAA;EAAA,OAAKE,CAAC,KAAK,IAAI;AAAA,EAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}