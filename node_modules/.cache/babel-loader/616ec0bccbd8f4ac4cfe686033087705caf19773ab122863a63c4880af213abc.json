{"ast":null,"code":"import { createOAuthError } from './createOAuthError.mjs';\nimport { handleFailure } from './handleFailure.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst listenForOAuthFlowCancellation = store => {\n  async function handleCancelOAuthFlow(event) {\n    const isBfcache = event.persisted;\n    if (isBfcache && (await store.loadOAuthInFlight())) {\n      const error = createOAuthError('User cancelled OAuth flow.');\n      await handleFailure(error);\n    }\n    window.removeEventListener('pageshow', handleCancelOAuthFlow);\n  }\n  window.addEventListener('pageshow', handleCancelOAuthFlow);\n};\nexport { listenForOAuthFlowCancellation };","map":{"version":3,"names":["listenForOAuthFlowCancellation","store","handleCancelOAuthFlow","event","isBfcache","persisted","loadOAuthInFlight","error","createOAuthError","handleFailure","window","removeEventListener","addEventListener"],"sources":["/Users/yaki/digi-coin/digi-coin-app/node_modules/@aws-amplify/auth/src/providers/cognito/utils/oauth/cancelOAuthFlow.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { createOAuthError } from './createOAuthError';\nimport { handleFailure } from './handleFailure';\nexport const listenForOAuthFlowCancellation = (store) => {\n    async function handleCancelOAuthFlow(event) {\n        const isBfcache = event.persisted;\n        if (isBfcache && (await store.loadOAuthInFlight())) {\n            const error = createOAuthError('User cancelled OAuth flow.');\n            await handleFailure(error);\n        }\n        window.removeEventListener('pageshow', handleCancelOAuthFlow);\n    }\n    window.addEventListener('pageshow', handleCancelOAuthFlow);\n};\n"],"mappings":";;;AAAA;AACA;AAGY,MAACA,8BAA8B,GAAIC,KAAK,IAAK;EACrD,eAAeC,qBAAqBA,CAACC,KAAK,EAAE;IACxC,MAAMC,SAAS,GAAGD,KAAK,CAACE,SAAS;IACjC,IAAID,SAAS,KAAK,MAAMH,KAAK,CAACK,iBAAiB,EAAE,CAAC,EAAE;MAChD,MAAMC,KAAK,GAAGC,gBAAgB,CAAC,4BAA4B,CAAC;MAC5D,MAAMC,aAAa,CAACF,KAAK,CAAC;IACtC;IACQG,MAAM,CAACC,mBAAmB,CAAC,UAAU,EAAET,qBAAqB,CAAC;EACrE;EACIQ,MAAM,CAACE,gBAAgB,CAAC,UAAU,EAAEV,qBAAqB,CAAC;AAC9D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}