{"ast":null,"code":"/**\n * Executes an `async` resolver function, providing the `Promise`-to-be-returned as the\n * first argument to the resolver so that the resolver can refer to the `Promise` that\n * external callers will see.\n *\n * ```ts\n * const outer = selfAwareAsync(async inner => {\n *  console.log(outer === inner); // true\n * });\n * ```\n *\n * This utility exists to reduce boilerplate in cases where promise resolving code needs\n * to track or register its \"own\" `Promise` *as seen by the caller* in some way. E.g.,\n * when mapping `Promise` chains for `client.cancel()`.\n *\n * @param resolver\n * @returns\n */\nfunction selfAwareAsync(resolver) {\n  let resolve;\n  let reject;\n  const resultPromise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  resolver(resultPromise).then(result => {\n    resolve(result);\n  }).catch(error => {\n    reject(error);\n  });\n  return resultPromise;\n}\nexport { selfAwareAsync };","map":{"version":3,"names":["selfAwareAsync","resolver","resolve","reject","resultPromise","Promise","res","rej","then","result","catch","error"],"sources":["/Users/yaki/digi-coin/digi-coin-app/node_modules/@aws-amplify/data-schema/src/runtime/utils/selfAwareAsync.ts"],"sourcesContent":["/**\n * Executes an `async` resolver function, providing the `Promise`-to-be-returned as the\n * first argument to the resolver so that the resolver can refer to the `Promise` that\n * external callers will see.\n *\n * ```ts\n * const outer = selfAwareAsync(async inner => {\n *  console.log(outer === inner); // true\n * });\n * ```\n *\n * This utility exists to reduce boilerplate in cases where promise resolving code needs\n * to track or register its \"own\" `Promise` *as seen by the caller* in some way. E.g.,\n * when mapping `Promise` chains for `client.cancel()`.\n *\n * @param resolver\n * @returns\n */\nexport function selfAwareAsync(resolver) {\n    let resolve;\n    let reject;\n    const resultPromise = new Promise((res, rej) => {\n        resolve = res;\n        reject = rej;\n    });\n    resolver(resultPromise)\n        .then((result) => {\n        resolve(result);\n    })\n        .catch((error) => {\n        reject(error);\n    });\n    return resultPromise;\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,cAAcA,CAACC,QAAQ,EAAE;EACrC,IAAIC,OAAO;EACX,IAAIC,MAAM;EACV,MAAMC,aAAa,GAAG,IAAIC,OAAO,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;IAC5CL,OAAO,GAAGI,GAAG;IACbH,MAAM,GAAGI,GAAG;EACpB,CAAK,CAAC;EACFN,QAAQ,CAACG,aAAa,CAAC,CAClBI,IAAI,CAAEC,MAAM,IAAK;IAClBP,OAAO,CAACO,MAAM,CAAC;EACvB,CAAK,CAAC,CACGC,KAAK,CAAEC,KAAK,IAAK;IAClBR,MAAM,CAACQ,KAAK,CAAC;EACrB,CAAK,CAAC;EACF,OAAOP,aAAa;AACxB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}