{"ast":null,"code":"var _jsxFileName = \"/Users/yaki/digi-coin/digi-coin-app/src/components/AllHistory.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './AllHistory.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AllHistory() {\n  _s();\n  const [transactions, setTransactions] = useState([]);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    fetchTransactions();\n  }, []);\n  async function fetchTransactions() {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('認証トークンがありません');\n      }\n      const response = await fetch('/api/transactions', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || '取引履歴の取得に失敗しました');\n      }\n      const data = await response.json();\n      setTransactions(data.transactions);\n    } catch (err) {\n      console.error('取引履歴取得エラー:', err);\n      setError('取引履歴の取得に失敗しました: ' + err.message);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: styles.title,\n      children: \"\\u53D6\\u5F15\\u5C65\\u6B74\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.error,\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }, this), transactions.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.tableContainer,\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: styles.table,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u65E5\\u6642\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u9001\\u4FE1\\u8005\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u53D7\\u4FE1\\u8005\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u91D1\\u984D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u53D6\\u5F15\\u30CF\\u30C3\\u30B7\\u30E5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: transactions.map(tx => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: new Date(tx.timestamp).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: tx.sender || '不明'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: tx.recipient || '不明'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [tx.amount, \" DGC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/transaction/${tx.id}`,\n                className: styles.hashLink,\n                children: [tx.transactionHash.slice(0, 10), \"...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 19\n            }, this)]\n          }, tx.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.empty,\n      children: \"\\u53D6\\u5F15\\u5C65\\u6B74\\u304C\\u3042\\u308A\\u307E\\u305B\\u3093\\u3002\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(AllHistory, \"fPYxFprw5KueN1ejmbpJ2rUwIx0=\");\n_c = AllHistory;\nvar _c;\n$RefreshReg$(_c, \"AllHistory\");","map":{"version":3,"names":["React","useState","useEffect","Link","styles","jsxDEV","_jsxDEV","AllHistory","_s","transactions","setTransactions","error","setError","fetchTransactions","token","localStorage","getItem","Error","response","fetch","headers","ok","errorData","json","message","data","err","console","className","container","children","title","fileName","_jsxFileName","lineNumber","columnNumber","length","tableContainer","table","map","tx","Date","timestamp","toLocaleString","sender","recipient","amount","to","id","hashLink","transactionHash","slice","empty","_c","$RefreshReg$"],"sources":["/Users/yaki/digi-coin/digi-coin-app/src/components/AllHistory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './AllHistory.module.css';\n\nexport default function AllHistory() {\n  const [transactions, setTransactions] = useState([]);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    fetchTransactions();\n  }, []);\n\n  async function fetchTransactions() {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('認証トークンがありません');\n      }\n\n      const response = await fetch('/api/transactions', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || '取引履歴の取得に失敗しました');\n      }\n\n      const data = await response.json();\n      setTransactions(data.transactions);\n    } catch (err) {\n      console.error('取引履歴取得エラー:', err);\n      setError('取引履歴の取得に失敗しました: ' + err.message);\n    }\n  }\n\n  return (\n    <div className={styles.container}>\n      <h2 className={styles.title}>取引履歴</h2>\n      {error && <p className={styles.error}>{error}</p>}\n      {transactions.length > 0 ? (\n        <div className={styles.tableContainer}>\n          <table className={styles.table}>\n            <thead>\n              <tr>\n                <th>日時</th>\n                <th>送信者</th>\n                <th>受信者</th>\n                <th>金額</th>\n                <th>取引ハッシュ</th>\n              </tr>\n            </thead>\n            <tbody>\n              {transactions.map(tx => (\n                <tr key={tx.id}>\n                  <td>{new Date(tx.timestamp).toLocaleString()}</td>\n                  <td>{tx.sender || '不明'}</td>\n                  <td>{tx.recipient || '不明'}</td>\n                  <td>{tx.amount} DGC</td>\n                  <td>\n                    <Link to={`/transaction/${tx.id}`} className={styles.hashLink}>\n                      {tx.transactionHash.slice(0, 10)}...\n                    </Link>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      ) : (\n        <p className={styles.empty}>取引履歴がありません。</p>\n      )}\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}