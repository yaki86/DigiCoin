{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter,Routes,Route,Navigate}from'react-router-dom';import{getCurrentUser}from'@aws-amplify/auth';import LoginForm from'./components/LoginForm';import SendCoin from'./components/SendCoin';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const router={future:{v7_relativeSplatPath:true}};function App(){const[isLoggedIn,setIsLoggedIn]=useState(false);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{checkAuthState();},[]);const checkAuthState=async()=>{try{await getCurrentUser();setIsLoggedIn(true);}catch(error){setIsLoggedIn(false);}finally{setIsLoading(false);}};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsx(BrowserRouter,{future:router.future,children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:isLoggedIn?/*#__PURE__*/_jsx(Navigate,{to:\"/send\",replace:true}):/*#__PURE__*/_jsx(LoginForm,{setIsLoggedIn:setIsLoggedIn})}),/*#__PURE__*/_jsx(Route,{path:\"/send\",element:isLoggedIn?/*#__PURE__*/_jsx(SendCoin,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Routes","Route","Navigate","getCurrentUser","LoginForm","SendCoin","jsx","_jsx","jsxs","_jsxs","router","future","v7_relativeSplatPath","App","isLoggedIn","setIsLoggedIn","isLoading","setIsLoading","checkAuthState","error","children","className","path","element","to","replace"],"sources":["/Users/yaki/digi-coin/digi-coin-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { getCurrentUser } from '@aws-amplify/auth';\nimport LoginForm from './components/LoginForm';\nimport SendCoin from './components/SendCoin';\nimport './App.css';\n\nconst router = {\n  future: {\n    v7_relativeSplatPath: true\n  }\n};\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    checkAuthState();\n  }, []);\n\n  const checkAuthState = async () => {\n    try {\n      await getCurrentUser();\n      setIsLoggedIn(true);\n    } catch (error) {\n      setIsLoggedIn(false);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <BrowserRouter future={router.future}>\n      <div className=\"App\">\n        <Routes>\n          <Route \n            path=\"/\" \n            element={\n              isLoggedIn ? \n                <Navigate to=\"/send\" replace /> : \n                <LoginForm setIsLoggedIn={setIsLoggedIn} />\n            } \n          />\n          <Route \n            path=\"/send\" \n            element={\n              isLoggedIn ? \n                <SendCoin /> : \n                <Navigate to=\"/\" replace />\n            } \n          />\n        </Routes>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACzE,OAASC,cAAc,KAAQ,mBAAmB,CAClD,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,KAAM,CAAAC,MAAM,CAAG,CACbC,MAAM,CAAE,CACNC,oBAAoB,CAAE,IACxB,CACF,CAAC,CAED,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACmB,SAAS,CAAEC,YAAY,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CAEhDC,SAAS,CAAC,IAAM,CACdoB,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF,KAAM,CAAAf,cAAc,CAAC,CAAC,CACtBY,aAAa,CAAC,IAAI,CAAC,CACrB,CAAE,MAAOI,KAAK,CAAE,CACdJ,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,OAAS,CACRE,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAED,GAAID,SAAS,CAAE,CACb,mBAAOT,IAAA,QAAAa,QAAA,CAAK,YAAU,CAAK,CAAC,CAC9B,CAEA,mBACEb,IAAA,CAACR,aAAa,EAACY,MAAM,CAAED,MAAM,CAACC,MAAO,CAAAS,QAAA,cACnCb,IAAA,QAAKc,SAAS,CAAC,KAAK,CAAAD,QAAA,cAClBX,KAAA,CAACT,MAAM,EAAAoB,QAAA,eACLb,IAAA,CAACN,KAAK,EACJqB,IAAI,CAAC,GAAG,CACRC,OAAO,CACLT,UAAU,cACRP,IAAA,CAACL,QAAQ,EAACsB,EAAE,CAAC,OAAO,CAACC,OAAO,MAAE,CAAC,cAC/BlB,IAAA,CAACH,SAAS,EAACW,aAAa,CAAEA,aAAc,CAAE,CAC7C,CACF,CAAC,cACFR,IAAA,CAACN,KAAK,EACJqB,IAAI,CAAC,OAAO,CACZC,OAAO,CACLT,UAAU,cACRP,IAAA,CAACF,QAAQ,GAAE,CAAC,cACZE,IAAA,CAACL,QAAQ,EAACsB,EAAE,CAAC,GAAG,CAACC,OAAO,MAAE,CAC7B,CACF,CAAC,EACI,CAAC,CACN,CAAC,CACO,CAAC,CAEpB,CAEA,cAAe,CAAAZ,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}